## Docker拉取NERFstudio环境
如题，书接上文，NERFstudio环境确实没有安装好，并且人已经崩溃了，所以决定使用Docker来配置环境。由于之前没有用过Docker，所以特此记录一下如何使用以及一些基础的知识。

### Docker基础知识



### 使用：
注意，vscode的终端有问题，使用Docker总是permission deny，还是得用自己电脑的终端。

拉镜像：
```
docker pull dromni/nerfstudio:1.0.3
```

创建容器：注意需要改两个参数：
就是两条-v的：
-v /folder/of/your/data:/workspace/: 此选项用于将本地机器上的一个文件夹挂载到容器内的 /workspace/ 目录。这样做的目的是使容器能够访问本地机器上的数据，以便处理它们。
-v /home/<YOUR_USER>/.cache/:/home/user/.cache/: 此选项将本地机器上的缓存文件夹挂载到容器内的 /home/user/.cache/ 目录。这样做的目的是为了避免在每次运行容器时重新下载模型，而是能够重用本地机器上的已下载模型。

```
docker run --gpus all \                                         # Give the container access to nvidia GPU (required).
            -u $(id -u) \                                       # To prevent abusing of root privilege, please use custom user privilege to start.
            -v /folder/of/your/data:/workspace/ \               # Mount a folder from the local machine into the container to be able to process them (required).
            -v /home/<YOUR_USER>/.cache/:/home/user/.cache/ \   # Mount cache folder to avoid re-downloading of models everytime (recommended).
            -p 7007:7007 \                                      # Map port from local machine to docker container (required to access the web interface/UI).
            -it \                                               # Start container in interactive mode.
            --shm-size=12gb \                                   # Increase memory assigned to container to avoid memory limitations, default is 64 MB (recommended).
            dromni/nerfstudio:1.0.3
```

只有第一次启动容器需要这样，后面可以使用如下命令来开启或者关闭容器，只要不删除容器，内部状态都是存在的（比如创建的文件，安装的新环境）
```
 docker start/stop 容器id 
```
docker ps -a 可以查看存在的容器，从而知道容器id。

tips:要再注意下，尽量你要修改的代码，文件都在外部服务器，你挂载进容器。不要在容器内部直接修改文件，免得容器坏了或者被删了，东西就全丢了。假定容器只提供环境，不提供存储空间。


#### 使用
```
newgrp docker
docker ps
docker exec -it id /usr/bin/bash
```